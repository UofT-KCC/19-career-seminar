<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>UTKCC Career Seminar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=DM+Sans:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      @font-face {
        font-family: 'Paperlogy';
        src: url('fonts/paperlogy/Paperlogy-4Regular.ttf') format('truetype');
        font-weight: 400;
        font-style: normal;
      }
      @font-face {
        font-family: 'Paperlogy';
        src: url('fonts/paperlogy/Paperlogy-5Medium.ttf') format('truetype');
        font-weight: 500;
        font-style: normal;
      }
      @font-face {
        font-family: 'Paperlogy';
        src: url('fonts/paperlogy/Paperlogy-6SemiBold.ttf') format('truetype');
        font-weight: 600;
        font-style: normal;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Pretendard",
          "Noto Sans KR", sans-serif;
        background: linear-gradient(to bottom, #2A2F36, #2A2F36);
        color: #3a3a3a;
        width: 100svw;
        min-height: 100dvh;
        min-height: 100svh;
        min-height: 100vh;
      }

      .envelope-section {
        position: relative;
        width: 100%;
        height: 220dvh;
        height: 220svh;
        height: 220vh;
      }

      .envelope-img-group {
        position: sticky;
        top: 0;
        width: 100%;
        height: 100dvh;
        height: 100svh;
        height: 100vh;
        transform-style: preserve-3d;
      }

      .envelope-item {
        object-fit: contain;
        width: 80vmin;
        width: 1256px;
        height: calc(80 * 886 / 1256) vmin;
        height: 886px;
      }

      .envelope-center {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) scale(0.6);
      }

      #env-back {
        z-index: 5;
      }

      #env-front {
        z-index: 1;
      }

      #env-cover {
        transform: translate(-50%, -50%) scale(0.6);
        object-position: center top;
        filter: brightness(1.15);
        transform-style: preserve-3d;
        transform-origin: center top;
        width: 100%;
        object-fit: contain;
      }

      #sealing-wax-container {
        z-index: 4;
      }

      #sealing-wax {
        position: relative;
        left: 43%;
        top: 46%;
      }

      #paper {
        width: 1240px;
        height: max-content;
        background: #0f0f0f;
        border-radius: 6px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        border-bottom-left-radius: 28px;
        border-bottom-right-radius: 28px;
        transform: translate(-50%, -80%) scale(0.6) rotateX(180deg);
        background-color: #f5f0e8;
        z-index: 2;
      }

      #env-cover-container {
        z-index: 4;
      }

      #env-top {
        z-index: 3;
      }

      .paper-inner {
        position: relative;
        padding: 52px 16px 20px;
        color: #0f0f0f;
      }

      .invite-card {
        width: 100%;
        background: radial-gradient(circle at top, #f5f0e8 0%, #0a4c9c 15%, #021933 100%);
        border-radius: 24px;
        background-clip: padding-box;
        border: 1px solid rgba(216, 203, 176, 0.7);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.12);
        padding: 40% 12px 28px;
        color: #ffffff;
      }

      .invite-header {
        text-align: center;
        margin-bottom: 36px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 6px;
      }

      .invite-logo {
        position: absolute;
        left: -3%;
        top: 350px;
        width: 1200px;
        height: auto;
        margin: 0 auto;
        opacity: 0.1;
        filter: brightness(1) drop-shadow(0 4px 4px rgba(255, 255, 255));
        z-index:0;
      }

      .invite-badge {
        font-size: 3.2rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: #ffffff;
        margin-bottom: 4px;
        z-index: 3;
      }

      .invite-theme {
        font-family: "Playfair Display", "Times New Roman", serif;
        font-size: 14rem;
        font-style: italic;
        letter-spacing: 0em;
        line-height: 1em;
        margin: 60px 0 120px;
        color: #ffffff;
        z-index: 3;
      }

      .invite-meta {
        font-family: "Paperlogy", system-ui, -apple-system, sans-serif;
        font-size: 2.8rem;
        line-height: 1.6;
        letter-spacing: 0.08em;
        color: #ffffff;
      }

      .invite-body {
        text-align: center;
      }

      .invite-intro-ko {
        font-size: 2.8rem;
        line-height: 1.7;
        color: #ffffff;
        margin: 100px 0;
      }

      .invite-divider {
        width: 256px;
        height: 4px;
        margin: 0 auto 24px;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.1),
          #ffffff,
          rgba(255, 255, 255, 0.1)
        );
      }

      .schedule-title {
        font-size: 6.4rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: #ffffff;
        margin: 80px 0 60px;
      }

      .schedule-list {
        display: flex;
        flex-direction: column;
        gap: 0;
        margin-top: 10px;
      }

      .schedule-item {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 14px;
        padding: 14px 4px;
      }

      .schedule-number {
        width: 136px;
        height: 136px;
        border-radius: 999px;
        border: 4px solid #ffffff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 4.2rem;
        color: #ffffff;
        margin: 0 auto;
        margin-top: 4px;
        flex-shrink: 0;
        background: transparent;
      }

      .schedule-text-block {
        text-align: left;
        width: 100%;
      }

      .schedule-heading {
        font-size: 5rem;
        font-weight: 600;
        color: #ffffff;
        line-height: 1.2;
        text-align: center;
        margin-bottom: 20px;
      }

      .schedule-desc {
        font-size: 3rem;
        font-weight: 400;
        color: #ffffff;
        line-height: 1.6;
        text-align: center;
      }

      .schedule-separator {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px 60px 6px;
      }

      .schedule-line {
        flex: 1;
        height: 4px;
        background: #ffffff;
      }

      .schedule-logo {
        object-fit: contain;
        filter: brightness(0) invert(1);
        opacity: 0.5;
      }

      .schedule-logo-left {
        width: 128px;
        height: 128px;
      }

      .schedule-logo-right {
        width: 128px;
        height: 128px;
      }

      .countdown-section {
        margin-top: 36px;
        padding-top: 26px;
        border-top: 1px solid rgba(216, 203, 176, 0.6);
        text-align: center;
      }

      .timezone-toggle {
        display: inline-flex;
        align-items: center;
        padding: 2px;
        border-radius: 999px;
        background: #f4efe4;
        border: 1px solid rgba(216, 203, 176, 0.9);
        margin: 60px 0;
      }

      .tz-pill {
        border: none;
        background: transparent;
        font-size: 3.2rem;
        padding: 24px 64px;
        border-radius: 999px;
        cursor: pointer;
        color: #51432b;
        font-weight: 500;
        transition: background 0.16s ease, color 0.16s ease,
          box-shadow 0.16s ease;
      }

      .tz-pill.active {
        background: rgba(255, 255, 255);
        color: #021933;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      }

      .countdown-meta {
        font-size: 4rem;
        color: #ffffff;
        margin: 20px 0 80px;
      }

      .countdown-grid {
        display: flex;
        justify-content: center;
        gap: 60px;
        margin-bottom: 60px;
      }

      .countdown-col {
        min-width: 160px;
      }

      .countdown-label {
        font-size: 2.8rem;
        letter-spacing: 0.15em;
        color: #ffffff;
        margin-bottom: 4px;
      }

      .countdown-value {
        font-family: "Playfair Display", "Times New Roman", serif;
        font-size: 7.2rem;
        color: #ffffff;
      }

      .countdown-caption {
        font-size: 3.52rem;
        color: #ffffff;
        margin: 60px 0 100px;
      }

      .countdown-caption span {
        color: #ffffff;
        font-weight: 600;
      }

      .invite-section {
        max-width: 460px;
        margin: 0 auto 32px;
      }

      .invite-title {
        font-size: 1.6rem;
        letter-spacing: 0.05em;
        text-align: center;
        margin-bottom: 8px;
      }

      .invite-sub {
        text-align: center;
        font-size: 0.95rem;
        color: #666;
        margin-bottom: 26px;
      }

      .invite-row {
        margin-bottom: 20px;
        line-height: 1.6;
        font-size: 0.96rem;
      }

      .invite-label {
        font-weight: 600;
        font-size: 0.9rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #999;
        margin-bottom: 4px;
      }

      .invite-highlight {
        font-weight: 600;
      }

      .rsvp-button {
        display: inline-block;
        margin-top: 10px;
        padding: 10px 18px;
        border-radius: 999px;
        border: 1px solid #d2c6a1;
        background: #fffaf1;
        font-size: 0.9rem;
        text-decoration: none;
        color: #7b5b35;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease,
          background 0.15s ease;
      }

      .rsvp-button:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
        background: #fff2da;
      }

      .content-section {
        min-height: 120vh;
        padding: 80px 16px 120px;
      }

      .content-section-inner {
        max-width: 720px;
        margin: 0 auto;
        line-height: 1.8;
        font-size: 0.98rem;
        color: #444;
      }

      .content-section h2 {
        font-size: 1.4rem;
        margin-bottom: 18px;
      }

      .after-paper-background {
        width: 0%;
        min-height: 250vh;
        height: 200vh;
        background: linear-gradient(to bottom, #fffbf4, #f5f0e8);
      }
    </style>
  </head>
  <body>
    <section class="envelope-section">
      <div class="envelope-img-group">
        <img
          class="envelope-item envelope-center"
          id="env-back"
          src="images/envelope-back.png"
        />
        <img
          class="envelope-item envelope-center"
          id="env-top"
          src="images/envelope-top.png"
        />
        <img
          class="envelope-item envelope-center"
          id="env-cut"
          src="images/envelope-cut.png"
        />
        <div class="envelope-item envelope-center" id="env-cover-container">
          <img src="images/envelope-cover.png" id="env-cover" />
        </div>
        <div class="envelope-item envelope-center" id="sealing-wax-container">
          <img src="images/sealing-wax.png" id="sealing-wax" />
        </div>
        <div class="envelope-center" id="paper">
          <div class="paper-inner">
            <div class="invite-card">
            <header class="invite-header">
              <img
                src="images/utkcc-logo.png"
                alt="UTKCC Logo"
                class="invite-logo"
              />
              <p class="invite-badge">UTKCC CAREER SEMINAR</p>
              <h1 class="invite-theme">FAIL <br /> FORWARD</h1>
              <p class="invite-meta">
                11월 22일 오후 8시 EST / 11월 23일 오전 10시 KST
                <br />
                | @Zoom
              </p>
            </header>

            <section class="invite-body">
              <p class="invite-intro-ko">
                선배님들의 진짜 이야기와 함께<br />
                실패를 앞으로 나아가는 힘으로 바꾸는 시간을 준비했습니다.
              </p>

              <div class="invite-divider"></div>

              <h2 class="schedule-title">Schedule</h2>
              <div class="schedule-list">
                <article class="schedule-item">
                  <div class="schedule-number">1</div>
                  <div class="schedule-text-block">
                    <h3 class="schedule-heading">General Panel Side Talk</h3>
                    <p class="schedule-desc">
                      선배님들의 실패 경험과 <br/>그 속에서 얻은 인사이트를 나누는
                      패널 세션
                    </p>
                  </div>
                </article>

                <div class="schedule-separator">
                  <span class="schedule-line"></span>
                  <img
                    src="images/utkcc-logo.png"
                    alt="UTKCC logo mark"
                    class="schedule-logo schedule-logo-right"
                  />
                </div>

                <article class="schedule-item">
                  <div class="schedule-number">2</div>
                  <div class="schedule-text-block">
                    <h3 class="schedule-heading">
                      Career-Specific <br/>Breakout Room
                    </h3>
                    <p class="schedule-desc">
                      소규모 네트워킹과 각 분야별 Fireside Chat
                    </p>
                  </div>
                </article>

                <div class="schedule-separator">
                  <img
                    src="images/utkcc-logo.png"
                    alt="UTKCC logo mark"
                    class="schedule-logo schedule-logo-left"
                  />
                  <span class="schedule-line"></span>
                </div>

                <article class="schedule-item">
                  <div class="schedule-number">3</div>
                  <div class="schedule-text-block">
                    <h3 class="schedule-heading">Insight Talk</h3>
                    <p class="schedule-desc">
                      실제 사례를 바탕으로 선배님들의 조언과<br />
                      커리어 인사이트를 들어보는 시간
                    </p>
                  </div>
                </article>

                <div class="countdown-section">
                  <div class="timezone-toggle" aria-label="Select timezone">
                    <button class="tz-pill active" data-tz="est">EST</button>
                    <button class="tz-pill" data-tz="kst">KST</button>
                  </div>

                  <div class="countdown-meta" id="countdown-meta">
                    2025.11.22 · 토요일 오후 8시 (EST)
                  </div>

                  <div class="countdown-grid">
                    <div class="countdown-col">
                      <div class="countdown-label">DAYS</div>
                      <div class="countdown-value" id="cd-days">00</div>
                    </div>
                    <div class="countdown-col">
                      <div class="countdown-label">HOUR</div>
                      <div class="countdown-value" id="cd-hours">00</div>
                    </div>
                    <div class="countdown-col">
                      <div class="countdown-label">MIN</div>
                      <div class="countdown-value" id="cd-mins">00</div>
                    </div>
                    <div class="countdown-col">
                      <div class="countdown-label">SEC</div>
                      <div class="countdown-value" id="cd-secs">00</div>
                    </div>
                  </div>

                  <p class="countdown-caption">
                    세미나까지 <span id="cd-days-text">0</span>일 남았습니다.
                  </p>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </section>
    <section class="after-paper-background" id="after"></section>

    <script>
      const imgGroup = document.querySelector(".envelope-img-group");
      const section = document.querySelector(".envelope-section");
      const envBack = document.getElementById("env-back");
      const envCover = document.getElementById("env-cover");
      const envCoverContainer = document.getElementById("env-cover-container");
      const sealingWax = document.getElementById("sealing-wax");
      const paper = document.getElementById("paper");

      // 모바일 체크
      const isMobile = window.innerWidth <= 768;

      function onScroll() {
        const sectionRect = section.getBoundingClientRect();
        const sectionTop = sectionRect.top;
        const sectionHeight = section.offsetHeight;
        const viewportHeight = window.innerHeight;

        // 전체 스크롤 진행도 계산 (0 ~ 1)
        let totalProgress = -sectionTop / (sectionHeight - viewportHeight);
        totalProgress = Math.max(0, Math.min(1, totalProgress));

        // 모바일에서는 부드러운 진행을 위해 easing 적용
        if (isMobile) {
          totalProgress =
            totalProgress < 0.5
              ? 2 * totalProgress * totalProgress
              : 1 - Math.pow(-2 * totalProgress + 2, 2) / 2;
        }

        // 첫 50%: envelope-img-group 회전 (0도 ~ 180도)
        const groupProgress = Math.min(totalProgress * 2, 1);
        const groupRotateAngle = groupProgress * 180;
        imgGroup.style.transform = `rotateX(${groupRotateAngle}deg)`;

        // 90도 이상 회전하면 env-back 숨기기
        if (groupRotateAngle >= 90) {
          envBack.style.display = "none";
        } else {
          envBack.style.display = "block";
        }

        // sealing-wax opacity: 160~180도 사이에서 1 → 0
        let waxOpacity = 1;
        if (groupRotateAngle < 160) {
          waxOpacity = 1;
        } else if (groupRotateAngle >= 180) {
          waxOpacity = 0;
        } else {
          // 160~180도: 1 → 0
          waxOpacity = 1 - (groupRotateAngle - 160) / 20;
        }
        sealingWax.style.opacity = waxOpacity;

        // 나머지 50%: env-cover 회전 (0도 ~ 180도)
        let coverProgress = 0;
        if (totalProgress > 0.5) {
          coverProgress = (totalProgress - 0.5) * 2;
        }
        const coverRotateAngle = coverProgress * 180;
        envCover.style.transform = `rotateX(${coverRotateAngle}deg)`;

        // env-cover가 90도 이상이면 z-index 1로 낮춤
        if (coverRotateAngle >= 90) {
          envCoverContainer.style.zIndex = "1";
        } else {
          envCoverContainer.style.zIndex = "3";
        }

        // paper opacity: env-cover가 90도~180도 사이에서 0 → 1
        let paperOpacity = 0;
        if (coverRotateAngle < 90) {
          paperOpacity = 0;
        } else if (coverRotateAngle >= 180) {
          paperOpacity = 1;
        } else {
          // 90~180도: 0 → 1
          paperOpacity = (coverRotateAngle - 90) / 90;
        }
        paper.style.opacity = paperOpacity;
      }

      window.addEventListener("scroll", onScroll);
      window.addEventListener("load", onScroll);
      window.addEventListener("resize", onScroll);

      const afterPaper = document.getElementById("after");

      console.log(paper.offsetHeight)
      console.log(window.innerHeight * 3.5)

      if (window.innerHeight * 2 < paper.offsetHeight) {
        afterPaper.style.height = '330vmin'
        console.log('height adusted')
      }

      // ===== 카운트다운 타이머 (공통) =====
      const tzButtons = document.querySelectorAll(".tz-pill");
      const countdownMeta = document.getElementById("countdown-meta");
      const cdDays = document.getElementById("cd-days");
      const cdHours = document.getElementById("cd-hours");
      const cdMins = document.getElementById("cd-mins");
      const cdSecs = document.getElementById("cd-secs");
      const cdDaysText = document.getElementById("cd-days-text");

      const eventDates = {
        // 북미 (EST) 시간 - UTC-5
        est: {
          key: "est",
          date: new Date("2025-11-23T01:00:00Z"), // EST 8pm = UTC 1am next day
          label: "2025.11.22 · 토요일 오후 8시 (EST)",
        },
        // 한국 (KST) 시간 - UTC+9
        kst: {
          key: "kst",
          date: new Date("2025-11-23T01:00:00Z"), // KST 10am = UTC 1am
          label: "2025.11.23 · 일요일 오전 10시 (KST)",
        },
      };

      let currentTz = "est";

      function pad2(num) {
        return String(num).padStart(2, "0");
      }

      function updateCountdown() {
        if (!cdDays || !eventDates[currentTz]) return;

        const now = new Date();
        const target = eventDates[currentTz].date;
        let diffMs = target - now;

        if (diffMs <= 0) {
          cdDays.textContent = "00";
          cdHours.textContent = "00";
          cdMins.textContent = "00";
          cdSecs.textContent = "00";
          cdDaysText.textContent = "0";
          countdownMeta.textContent = eventDates[currentTz].label;
          return;
        }

        const totalSeconds = Math.floor(diffMs / 1000);
        const days = Math.floor(totalSeconds / (24 * 3600));
        const hours = Math.floor((totalSeconds % (24 * 3600)) / 3600);
        const mins = Math.floor((totalSeconds % 3600) / 60);
        const secs = totalSeconds % 60;

        cdDays.textContent = pad2(days);
        cdHours.textContent = pad2(hours);
        cdMins.textContent = pad2(mins);
        cdSecs.textContent = pad2(secs);
        cdDaysText.textContent = days;
        countdownMeta.textContent = eventDates[currentTz].label;
      }

      tzButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          const tz = btn.getAttribute("data-tz");
          if (!tz || tz === currentTz) return;
          currentTz = tz;
          tzButtons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          updateCountdown();
        });
      });

      updateCountdown();
      setInterval(updateCountdown, 1000);
    </script>
  </body>
  <script
    type="module"
    src="imagesttps://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
  ></script>
  <script
    nomodule
    src="imagesttps://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
  ></script>
</html>
